var LazyPicture=function(t){"use strict";function e(t,e,n,i){if("string"==typeof t&&(t=document.getElementById(t)),t&&"naturalWidth"in t){var a=t.naturalWidth,s=t.naturalHeight;if("string"==typeof e&&(e=document.getElementById(e)),e&&"getContext"in e){e.width=a,e.height=s;var l=e.getContext("2d");l.clearRect(0,0,a,s),l.drawImage(t,0,0),isNaN(n)||n<1||(i?r(e,0,0,a,s,n):o(e,0,0,a,s,n))}}}function n(t,e,n,r,i){if("string"==typeof t&&(t=document.getElementById(t)),!(t&&"object"==typeof t&&"getContext"in t))throw new TypeError("Expecting canvas with `getContext` method in processCanvasRGB(A) calls!");var o=t.getContext("2d");try{return o.getImageData(e,n,r,i)}catch(t){throw new Error("unable to access image data: "+t)}}function r(t,e,r,o,a,s){if(!(isNaN(s)||s<1)){s|=0;var l=n(t,e,r,o,a);l=i(l,e,r,o,a,s),t.getContext("2d").putImageData(l,e,r)}}function i(t,e,n,r,i,o){var a,s,l,f,g,h,p,v,y,b,x,m,S,_,w,I,C,z,E,R,N,$,D,O,F,B=t.data,T=2*o+1,W=r-1,L=i-1,P=o+1,V=P*(P+1)/2,j=new u,q=j;for(l=1;l<T;l++)q=q.next=new u,l===P&&(F=q);q.next=j;var U=null,X=null;p=h=0;var k=c[o],A=d[o];for(s=0;s<i;s++){for(I=C=z=E=v=y=b=x=0,m=P*(R=B[h]),S=P*(N=B[h+1]),_=P*($=B[h+2]),w=P*(D=B[h+3]),v+=V*R,y+=V*N,b+=V*$,x+=V*D,q=j,l=0;l<P;l++)q.r=R,q.g=N,q.b=$,q.a=D,q=q.next;for(l=1;l<P;l++)f=h+((W<l?W:l)<<2),v+=(q.r=R=B[f])*(O=P-l),y+=(q.g=N=B[f+1])*O,b+=(q.b=$=B[f+2])*O,x+=(q.a=D=B[f+3])*O,I+=R,C+=N,z+=$,E+=D,q=q.next;for(U=j,X=F,a=0;a<r;a++)B[h+3]=D=x*k>>A,0!==D?(D=255/D,B[h]=(v*k>>A)*D,B[h+1]=(y*k>>A)*D,B[h+2]=(b*k>>A)*D):B[h]=B[h+1]=B[h+2]=0,v-=m,y-=S,b-=_,x-=w,m-=U.r,S-=U.g,_-=U.b,w-=U.a,f=p+((f=a+o+1)<W?f:W)<<2,v+=I+=U.r=B[f],y+=C+=U.g=B[f+1],b+=z+=U.b=B[f+2],x+=E+=U.a=B[f+3],U=U.next,m+=R=X.r,S+=N=X.g,_+=$=X.b,w+=D=X.a,I-=R,C-=N,z-=$,E-=D,X=X.next,h+=4;p+=r}for(a=0;a<r;a++){for(C=z=E=I=y=b=x=v=0,m=P*(R=B[h=a<<2]),S=P*(N=B[h+1]),_=P*($=B[h+2]),w=P*(D=B[h+3]),v+=V*R,y+=V*N,b+=V*$,x+=V*D,q=j,l=0;l<P;l++)q.r=R,q.g=N,q.b=$,q.a=D,q=q.next;for(g=r,l=1;l<=o;l++)h=g+a<<2,v+=(q.r=R=B[h])*(O=P-l),y+=(q.g=N=B[h+1])*O,b+=(q.b=$=B[h+2])*O,x+=(q.a=D=B[h+3])*O,I+=R,C+=N,z+=$,E+=D,q=q.next,l<L&&(g+=r);for(h=a,U=j,X=F,s=0;s<i;s++)B[(f=h<<2)+3]=D=x*k>>A,D>0?(D=255/D,B[f]=(v*k>>A)*D,B[f+1]=(y*k>>A)*D,B[f+2]=(b*k>>A)*D):B[f]=B[f+1]=B[f+2]=0,v-=m,y-=S,b-=_,x-=w,m-=U.r,S-=U.g,_-=U.b,w-=U.a,f=a+((f=s+P)<L?f:L)*r<<2,v+=I+=U.r=B[f],y+=C+=U.g=B[f+1],b+=z+=U.b=B[f+2],x+=E+=U.a=B[f+3],U=U.next,m+=R=X.r,S+=N=X.g,_+=$=X.b,w+=D=X.a,I-=R,C-=N,z-=$,E-=D,X=X.next,h+=r}return t}function o(t,e,r,i,o,s){if(!(isNaN(s)||s<1)){s|=0;var l=n(t,e,r,i,o);l=a(l,e,r,i,o,s),t.getContext("2d").putImageData(l,e,r)}}function a(t,e,n,r,i,o){var a,s,l,f,g,h,p,v,y,b,x,m,S,_,w,I,C,z,E,R,N,$=t.data,D=2*o+1,O=r-1,F=i-1,B=o+1,T=B*(B+1)/2,W=new u,L=W;for(l=1;l<D;l++)L=L.next=new u,l===B&&(N=L);L.next=W;var P=null,V=null;p=h=0;var j=c[o],q=d[o];for(s=0;s<i;s++){for(_=w=I=v=y=b=0,x=B*(C=$[h]),m=B*(z=$[h+1]),S=B*(E=$[h+2]),v+=T*C,y+=T*z,b+=T*E,L=W,l=0;l<B;l++)L.r=C,L.g=z,L.b=E,L=L.next;for(l=1;l<B;l++)f=h+((O<l?O:l)<<2),v+=(L.r=C=$[f])*(R=B-l),y+=(L.g=z=$[f+1])*R,b+=(L.b=E=$[f+2])*R,_+=C,w+=z,I+=E,L=L.next;for(P=W,V=N,a=0;a<r;a++)$[h]=v*j>>q,$[h+1]=y*j>>q,$[h+2]=b*j>>q,v-=x,y-=m,b-=S,x-=P.r,m-=P.g,S-=P.b,f=p+((f=a+o+1)<O?f:O)<<2,v+=_+=P.r=$[f],y+=w+=P.g=$[f+1],b+=I+=P.b=$[f+2],P=P.next,x+=C=V.r,m+=z=V.g,S+=E=V.b,_-=C,w-=z,I-=E,V=V.next,h+=4;p+=r}for(a=0;a<r;a++){for(w=I=_=y=b=v=0,x=B*(C=$[h=a<<2]),m=B*(z=$[h+1]),S=B*(E=$[h+2]),v+=T*C,y+=T*z,b+=T*E,L=W,l=0;l<B;l++)L.r=C,L.g=z,L.b=E,L=L.next;for(g=r,l=1;l<=o;l++)h=g+a<<2,v+=(L.r=C=$[h])*(R=B-l),y+=(L.g=z=$[h+1])*R,b+=(L.b=E=$[h+2])*R,_+=C,w+=z,I+=E,L=L.next,l<F&&(g+=r);for(h=a,P=W,V=N,s=0;s<i;s++)$[f=h<<2]=v*j>>q,$[f+1]=y*j>>q,$[f+2]=b*j>>q,v-=x,y-=m,b-=S,x-=P.r,m-=P.g,S-=P.b,f=a+((f=s+B)<F?f:F)*r<<2,v+=_+=P.r=$[f],y+=w+=P.g=$[f+1],b+=I+=P.b=$[f+2],P=P.next,x+=C=V.r,m+=z=V.g,S+=E=V.b,_-=C,w-=z,I-=E,V=V.next,h+=r}return t}function s(t,e,n,r,i,o,a,s,l,c){"boolean"!=typeof a&&(l=s,s=a,a=!1);var d="function"==typeof n?n.options:n;t&&t.render&&(d.render=t.render,d.staticRenderFns=t.staticRenderFns,d._compiled=!0,i&&(d.functional=!0)),r&&(d._scopeId=r);var u;if(o?(u=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,l(t)),t&&t._registeredComponents&&t._registeredComponents.add(o)},d._ssrRegister=u):e&&(u=a?function(){e.call(this,c(this.$root.$options.shadowRoot))}:function(t){e.call(this,s(t))}),u)if(d.functional){var f=d.render;d.render=function(t,e){return u.call(e),f(t,e)}}else{var g=d.beforeCreate;d.beforeCreate=g?[].concat(g,u):[u]}return n}function l(t){l.installed||(l.installed=!0,t.component("LazyPicture",f))}var c=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],d=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24],u=function(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null},f=s({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"container",class:[t.containerClass],style:{position:"relative",maxWidth:t.maxWidth}},[n("img",{ref:"placeholder",style:t.placeholderStyle,attrs:{src:t.placeholder,crossOrigin:"anonymous"},on:{load:t.onPlaceholderLoad}}),t._v(" "),n("canvas",{ref:"canvas",style:t.canvasStyle}),t._v(" "),n("img",{ref:"picture",style:t.getFullSizeImageStyle,attrs:{alt:t.title,src:t.getFullSizeSrc},on:{load:function(e){t.loaded=!0}}})])},staticRenderFns:[]},void 0,{props:{maxWidth:{type:String,default:"100%"},containerClass:{type:String,default:"lazy-picture"},title:{type:String,default:"Image"},placeholder:{type:String,required:!0},src:{type:String,required:!0},lazy:{type:Boolean,default:!1},blurRadius:{type:Number,default:5},transitionDuration:{type:Number,default:2e3},easing:{type:String,default:"ease"}},data:function(){return{loaded:!1,observer:null,intersected:!1,intersectionOptions:{root:null,rootMargin:"0px 0px 0px 0px",threshold:0},canvasStyle:{position:"absolute",top:0,left:0,width:"100%"},fullsizeImageStyleDefaults:{position:"absolute",top:0,left:0,width:"100%"},placeholderStyle:{display:"block",width:"100%",opacity:0}}},computed:{getFullSizeImageStyle:function(){return Object.assign({},this.fullsizeImageStyleDefaults,{opacity:this.loaded?1:0,transitionDuration:this.transitionDuration+"ms",transitionTimingFunction:""+this.easing})},getFullSizeSrc:function(){return this.lazy?this.lazy&&this.intersected?this.src:null:this.src}},methods:{onPlaceholderLoad:function(){this.lazy&&(this.createIntersectionObserver(),this.createBlurredImage())},createBlurredImage:function(){return e(this.$refs.placeholder,this.$refs.canvas,this.blurRadius,!1)},createIntersectionObserver:function(){var t=this;this.observer=new IntersectionObserver(function(e){e[0].isIntersecting&&(t.intersected=!0,t.observer.disconnect())},this.intersectionOptions),this.observer.observe(this.$el)}},beforeDestroy:function(){this.observer.disconnect()}},void 0,!1,void 0,void 0,void 0),g={install:l},h=null;return"undefined"!=typeof window?h=window.Vue:"undefined"!=typeof global&&(h=global.Vue),h&&h.use(g),f.install=l,t.default=f,t}({});
