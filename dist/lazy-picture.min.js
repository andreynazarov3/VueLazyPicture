var LazyPicture=function(e){"use strict";function t(e,t,r,a,o,n,i,s,d,l){"boolean"!=typeof i&&(d=s,s=i,i=!1);var c="function"==typeof r?r.options:r;e&&e.render&&(c.render=e.render,c.staticRenderFns=e.staticRenderFns,c._compiled=!0,o&&(c.functional=!0)),a&&(c._scopeId=a);var u;if(n?(u=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,d(e)),e&&e._registeredComponents&&e._registeredComponents.add(n)},c._ssrRegister=u):t&&(u=i?function(){t.call(this,l(this.$root.$options.shadowRoot))}:function(e){t.call(this,s(e))}),u)if(c.functional){var f=c.render;c.render=function(e,t){return u.call(t),f(e,t)}}else{var p=c.beforeCreate;c.beforeCreate=p?[].concat(p,u):[u]}return r}function r(e){return function(e,t){return a(e,t)}}function a(e,t){var r=d?t.media||"default":e,a=c[r]||(c[r]={ids:new Set,styles:[]});if(!a.ids.has(e)){a.ids.add(e);var o=t.source;if(t.map&&(o+="\n/*# sourceURL="+t.map.sources[0]+" */",o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t.map))))+" */"),a.element||(a.element=document.createElement("style"),a.element.type="text/css",t.media&&a.element.setAttribute("media",t.media),l.appendChild(a.element)),"styleSheet"in a.element)a.styles.push(o),a.element.styleSheet.cssText=a.styles.filter(Boolean).join("\n");else{var n=a.ids.size-1,i=document.createTextNode(o),s=a.element.childNodes;s[n]&&a.element.removeChild(s[n]),s.length?a.element.insertBefore(i,s[n]):a.element.appendChild(i)}}}function o(e){o.installed||(o.installed=!0,e.component("LazyPicture",u))}var n=require("stackblur-canvas");process.browser&&require("intersection-observer");var i={props:{title:String,pictureSources:Array,imgSources:Object,lazy:{type:Boolean,default:!1},blurRadius:{type:Number,default:30},transitionDuration:{type:Number,default:2e3},easing:{type:String,default:"ease"}},data:function(){return{picture:null,observer:null,loaded:!1,placeholderLoaded:!1,loadedBeforePlaceholder:!1,intersected:!1,intersectionOptions:{root:null,rootMargin:"0px 0px 0px 0px",threshold:0}}},methods:{onImageLoad:function(){this.loaded?this.loadedBeforePlaceholder=!0:this.loaded=!0},onPlaceholderLoad:function(){var e=this;this.loaded=!1,this.observer||(this.observer=new IntersectionObserver(function(t){t[0].isIntersecting&&(e.intersected=!0,e.observer.disconnect())},this.intersectionOptions),this.observer.observe(this.$el)),this.$refs.placeholder&&!this.loaded&&n.image(this.$refs.placeholder,this.$refs.canvas,this.blurRadius,!1),this.loadedBeforePlaceholder&&(this.loaded=!0,this.loadedBeforePlaceholder=!1)}},destroyed:function(){this.observer&&this.observer.disconnect()}},s=t,d="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase()),l=document.head||document.getElementsByTagName("head")[0],c={},u=s({render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{ref:"picture-container",staticClass:"picture-container"},[r("picture",{staticClass:"placeholder"},[e.pictureSources?e._l(e.pictureSources,function(e,t){return r("source",{key:t,attrs:{media:e.media,srcset:e.placeholder}})}):e._e(),e._v(" "),r("img",{ref:"placeholder",attrs:{src:e.imgSources?e.imgSources.placeholder:null,alt:e.title},on:{load:e.onPlaceholderLoad}})],2),e._v(" "),e.intersected||!e.lazy?r("picture",{ref:"picture",staticClass:"fullsize",class:{loaded:e.loaded&&!e.loadedBeforePlaceholder}},[e.pictureSources?e._l(e.pictureSources,function(e,t){return r("source",{key:t,attrs:{media:e.media,srcset:e.srcset}})}):e._e(),e._v(" "),r("img",{directives:[{name:"show",rawName:"v-show",value:e.loaded&&!e.loadedBeforePlaceholder,expression:"loaded && !loadedBeforePlaceholder"}],ref:"image",attrs:{src:e.imgSources?e.imgSources.src:null,alt:e.title},on:{load:e.onImageLoad}})],2):e._e(),e._v(" "),r("canvas",{ref:"canvas",style:{transitionDuration:e.transitionDuration+"ms",transitionTimingFunction:""+e.easing}})])},staticRenderFns:[]},function(e){e&&e("data-v-af91fb1e_0",{source:".picture-container[data-v-af91fb1e]{position:relative}canvas[data-v-af91fb1e],picture.fullsize[data-v-af91fb1e]{position:absolute;top:0;left:0;width:100%!important;height:100%!important}picture.fullsize.loaded+canvas[data-v-af91fb1e]{opacity:0}img[data-v-af91fb1e],picture[data-v-af91fb1e]{display:block;width:100%}picture.placeholder[data-v-af91fb1e]{opacity:0}",map:void 0,media:void 0})},i,"data-v-af91fb1e",!1,void 0,r,void 0),f={install:o},p=null;return"undefined"!=typeof window?p=window.Vue:"undefined"!=typeof global&&(p=global.Vue),p&&p.use(f),u.install=o,e.default=u,e}({});
