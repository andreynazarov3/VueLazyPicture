var LazyPicture=function(e){"use strict";function t(e,t,n,i){if("string"==typeof e&&(e=document.getElementById(e)),e&&"naturalWidth"in e){var a=e.naturalWidth,s=e.naturalHeight;if("string"==typeof t&&(t=document.getElementById(t)),t&&"getContext"in t){t.width=a,t.height=s;var l=t.getContext("2d");l.clearRect(0,0,a,s),l.drawImage(e,0,0),isNaN(n)||n<1||(i?r(t,0,0,a,s,n):o(t,0,0,a,s,n))}}}function n(e,t,n,r,i){if("string"==typeof e&&(e=document.getElementById(e)),!(e&&"object"==typeof e&&"getContext"in e))throw new TypeError("Expecting canvas with `getContext` method in processCanvasRGB(A) calls!");var o=e.getContext("2d");try{return o.getImageData(t,n,r,i)}catch(e){throw new Error("unable to access image data: "+e)}}function r(e,t,r,o,a,s){if(!(isNaN(s)||s<1)){s|=0;var l=n(e,t,r,o,a);l=i(l,t,r,o,a,s),e.getContext("2d").putImageData(l,t,r)}}function i(e,t,n,r,i,o){var a,s,l,f,g,h,p,v,b,y,x,m,S,w,_,I,C,z,E,R,N,$,D,F,O,B=e.data,T=2*o+1,W=r-1,L=i-1,P=o+1,V=P*(P+1)/2,q=new u,j=q;for(l=1;l<T;l++)j=j.next=new u,l===P&&(O=j);j.next=q;var U=null,X=null;p=h=0;var k=c[o],A=d[o];for(s=0;s<i;s++){for(I=C=z=E=v=b=y=x=0,m=P*(R=B[h]),S=P*(N=B[h+1]),w=P*($=B[h+2]),_=P*(D=B[h+3]),v+=V*R,b+=V*N,y+=V*$,x+=V*D,j=q,l=0;l<P;l++)j.r=R,j.g=N,j.b=$,j.a=D,j=j.next;for(l=1;l<P;l++)f=h+((W<l?W:l)<<2),v+=(j.r=R=B[f])*(F=P-l),b+=(j.g=N=B[f+1])*F,y+=(j.b=$=B[f+2])*F,x+=(j.a=D=B[f+3])*F,I+=R,C+=N,z+=$,E+=D,j=j.next;for(U=q,X=O,a=0;a<r;a++)B[h+3]=D=x*k>>A,0!==D?(D=255/D,B[h]=(v*k>>A)*D,B[h+1]=(b*k>>A)*D,B[h+2]=(y*k>>A)*D):B[h]=B[h+1]=B[h+2]=0,v-=m,b-=S,y-=w,x-=_,m-=U.r,S-=U.g,w-=U.b,_-=U.a,f=p+((f=a+o+1)<W?f:W)<<2,v+=I+=U.r=B[f],b+=C+=U.g=B[f+1],y+=z+=U.b=B[f+2],x+=E+=U.a=B[f+3],U=U.next,m+=R=X.r,S+=N=X.g,w+=$=X.b,_+=D=X.a,I-=R,C-=N,z-=$,E-=D,X=X.next,h+=4;p+=r}for(a=0;a<r;a++){for(C=z=E=I=b=y=x=v=0,m=P*(R=B[h=a<<2]),S=P*(N=B[h+1]),w=P*($=B[h+2]),_=P*(D=B[h+3]),v+=V*R,b+=V*N,y+=V*$,x+=V*D,j=q,l=0;l<P;l++)j.r=R,j.g=N,j.b=$,j.a=D,j=j.next;for(g=r,l=1;l<=o;l++)h=g+a<<2,v+=(j.r=R=B[h])*(F=P-l),b+=(j.g=N=B[h+1])*F,y+=(j.b=$=B[h+2])*F,x+=(j.a=D=B[h+3])*F,I+=R,C+=N,z+=$,E+=D,j=j.next,l<L&&(g+=r);for(h=a,U=q,X=O,s=0;s<i;s++)B[(f=h<<2)+3]=D=x*k>>A,D>0?(D=255/D,B[f]=(v*k>>A)*D,B[f+1]=(b*k>>A)*D,B[f+2]=(y*k>>A)*D):B[f]=B[f+1]=B[f+2]=0,v-=m,b-=S,y-=w,x-=_,m-=U.r,S-=U.g,w-=U.b,_-=U.a,f=a+((f=s+P)<L?f:L)*r<<2,v+=I+=U.r=B[f],b+=C+=U.g=B[f+1],y+=z+=U.b=B[f+2],x+=E+=U.a=B[f+3],U=U.next,m+=R=X.r,S+=N=X.g,w+=$=X.b,_+=D=X.a,I-=R,C-=N,z-=$,E-=D,X=X.next,h+=r}return e}function o(e,t,r,i,o,s){if(!(isNaN(s)||s<1)){s|=0;var l=n(e,t,r,i,o);l=a(l,t,r,i,o,s),e.getContext("2d").putImageData(l,t,r)}}function a(e,t,n,r,i,o){var a,s,l,f,g,h,p,v,b,y,x,m,S,w,_,I,C,z,E,R,N,$=e.data,D=2*o+1,F=r-1,O=i-1,B=o+1,T=B*(B+1)/2,W=new u,L=W;for(l=1;l<D;l++)L=L.next=new u,l===B&&(N=L);L.next=W;var P=null,V=null;p=h=0;var q=c[o],j=d[o];for(s=0;s<i;s++){for(w=_=I=v=b=y=0,x=B*(C=$[h]),m=B*(z=$[h+1]),S=B*(E=$[h+2]),v+=T*C,b+=T*z,y+=T*E,L=W,l=0;l<B;l++)L.r=C,L.g=z,L.b=E,L=L.next;for(l=1;l<B;l++)f=h+((F<l?F:l)<<2),v+=(L.r=C=$[f])*(R=B-l),b+=(L.g=z=$[f+1])*R,y+=(L.b=E=$[f+2])*R,w+=C,_+=z,I+=E,L=L.next;for(P=W,V=N,a=0;a<r;a++)$[h]=v*q>>j,$[h+1]=b*q>>j,$[h+2]=y*q>>j,v-=x,b-=m,y-=S,x-=P.r,m-=P.g,S-=P.b,f=p+((f=a+o+1)<F?f:F)<<2,v+=w+=P.r=$[f],b+=_+=P.g=$[f+1],y+=I+=P.b=$[f+2],P=P.next,x+=C=V.r,m+=z=V.g,S+=E=V.b,w-=C,_-=z,I-=E,V=V.next,h+=4;p+=r}for(a=0;a<r;a++){for(_=I=w=b=y=v=0,x=B*(C=$[h=a<<2]),m=B*(z=$[h+1]),S=B*(E=$[h+2]),v+=T*C,b+=T*z,y+=T*E,L=W,l=0;l<B;l++)L.r=C,L.g=z,L.b=E,L=L.next;for(g=r,l=1;l<=o;l++)h=g+a<<2,v+=(L.r=C=$[h])*(R=B-l),b+=(L.g=z=$[h+1])*R,y+=(L.b=E=$[h+2])*R,w+=C,_+=z,I+=E,L=L.next,l<O&&(g+=r);for(h=a,P=W,V=N,s=0;s<i;s++)$[f=h<<2]=v*q>>j,$[f+1]=b*q>>j,$[f+2]=y*q>>j,v-=x,b-=m,y-=S,x-=P.r,m-=P.g,S-=P.b,f=a+((f=s+B)<O?f:O)*r<<2,v+=w+=P.r=$[f],b+=_+=P.g=$[f+1],y+=I+=P.b=$[f+2],P=P.next,x+=C=V.r,m+=z=V.g,S+=E=V.b,w-=C,_-=z,I-=E,V=V.next,h+=r}return e}function s(e,t,n,r,i,o,a,s,l,c){"boolean"!=typeof a&&(l=s,s=a,a=!1);var d="function"==typeof n?n.options:n;e&&e.render&&(d.render=e.render,d.staticRenderFns=e.staticRenderFns,d._compiled=!0,i&&(d.functional=!0)),r&&(d._scopeId=r);var u;if(o?(u=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,l(e)),e&&e._registeredComponents&&e._registeredComponents.add(o)},d._ssrRegister=u):t&&(u=a?function(){t.call(this,c(this.$root.$options.shadowRoot))}:function(e){t.call(this,s(e))}),u)if(d.functional){var f=d.render;d.render=function(e,t){return u.call(t),f(e,t)}}else{var g=d.beforeCreate;d.beforeCreate=g?[].concat(g,u):[u]}return n}function l(e){l.installed||(l.installed=!0,e.component("LazyPicture",f))}var c=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],d=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24],u=function(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null};process.browser&&require("intersection-observer");var f=s({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"container",class:[e.containerClass],style:{position:"relative",maxWidth:e.maxWidth}},[n("img",{ref:"placeholder",style:e.placeholderStyle,attrs:{src:e.placeholder},on:{load:e.onPlaceholderLoad}}),e._v(" "),n("canvas",{ref:"canvas",style:e.canvasStyle}),e._v(" "),n("img",{ref:"picture",style:e.getFullSizeImageStyle,attrs:{alt:e.title,src:e.getFullSizeSrc},on:{load:function(t){e.loaded=!0}}})])},staticRenderFns:[]},void 0,{props:{maxWidth:{type:String,default:"100%"},containerClass:{type:String,default:"lazy-picture"},title:{type:String,default:"Image"},placeholder:{type:String,required:!0},src:{type:String,required:!0},lazy:{type:Boolean,default:!1},blurRadius:{type:Number,default:5},transitionDuration:{type:Number,default:2e3},easing:{type:String,default:"ease"}},data:function(){return{loaded:!1,observer:null,intersected:!1,intersectionOptions:{root:null,rootMargin:"0px 0px 0px 0px",threshold:0},canvasStyle:{position:"absolute",top:0,left:0,width:"100%"},fullsizeImageStyleDefaults:{position:"absolute",top:0,left:0,width:"100%"},placeholderStyle:{display:"block",width:"100%",opacity:0}}},computed:{getFullSizeImageStyle:function(){return Object.assign({},this.fullsizeImageStyleDefaults,{opacity:this.loaded?1:0,transitionDuration:this.transitionDuration+"ms",transitionTimingFunction:""+this.easing})},getFullSizeSrc:function(){return this.lazy?this.lazy&&this.intersected?this.src:null:this.src}},methods:{onPlaceholderLoad:function(){this.lazy&&(this.createIntersectionObserver(),this.createBlurredImage())},createBlurredImage:function(){return t(this.$refs.placeholder,this.$refs.canvas,this.blurRadius,!1)},createIntersectionObserver:function(){var e=this;this.observer=new IntersectionObserver(function(t){t[0].isIntersecting&&(e.intersected=!0,e.observer.disconnect())},this.intersectionOptions),this.observer.observe(this.$el)}},beforeDestroy:function(){this.observer.disconnect()}},void 0,!1,void 0,void 0,void 0),g={install:l},h=null;return"undefined"!=typeof window?h=window.Vue:"undefined"!=typeof global&&(h=global.Vue),h&&h.use(g),f.install=l,e.default=f,e}({});
